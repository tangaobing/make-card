# 卡片制作小工具

一个快速从网页内容生成卡片的工具，提供美观的双栏界面，支持URL提取和HTML文件处理。

## 功能特点

- 双栏布局（左侧输入/右侧输出）
- URL验证（支持http/https格式）
- 提示词输入支持（多行文本框）
- 智能内容提取和压缩
- 一键复制功能
- 响应式设计（适配移动端）
- **增强功能**：
  - 可调节内容长度限制（100-5000字符）
  - 智能内容提取算法，更准确地识别网页正文
  - URL预览功能
  - 内容长度统计
  - 一键清空功能
  - **HTML文件处理**：支持上传本地HTML文件并提取内容
  - **增强拖放上传**：支持拖放上传HTML文件

## UI优化

- **柔和的配色方案**：使用低饱和度的渐变色，蓝紫色和杏色搭配
- **增强视觉层次感**：卡片式布局，提高内容分区可读性
- **细节优化**：
  - 优化滑块控件，显示数值和停止点
  - 添加微妙的阴影和动效
  - 增加背景装饰元素
  - 按钮悬停动画
  - 输入表单区分视觉层次

## 技术栈

### 前端
- Vue 3
- Element Plus (包含图标库)
- Axios

### 后端
- FastAPI
- httpx
- BeautifulSoup4

## 运行说明

### 前端

```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 运行开发服务器
npm run dev
```

### 后端

```bash
# 进入后端目录
cd backend

# 安装依赖
pip install -r requirements.txt

# 运行服务器（推荐方式）
python start.py

# 或者使用uvicorn直接启动
python -m uvicorn main:app --reload
```

## 使用方法

### URL模式
1. 确保输入模式切换开关设置为"网址输入"
2. 在左侧输入框中粘贴网页URL（必须以http://或https://开头）
3. 在提示词文本框中输入您的提示内容
4. 【可选】点击"高级设置"配置内容长度限制
5. 点击"生成卡片"按钮
6. 等待处理完成后，右侧会显示处理结果
7. 使用"复制内容"按钮复制结果
8. 可以使用"预览"按钮在新窗口中查看原URL内容

### HTML文件模式
1. 将输入模式切换开关设置为"上传HTML文件"
2. 将HTML文件拖放到上传区域，或点击选择文件
3. 在提示词文本框中输入您的提示内容
4. 【可选】点击"高级设置"配置内容长度限制
5. 点击"生成卡片"按钮
6. 等待处理完成后，右侧会显示处理结果
7. 使用"复制内容"按钮复制结果

### 通用功能
- 使用"清空"按钮重置所有输入和输出
- 调整内容长度限制可以控制最终结果的文本长度

## 优化说明

最新版本对URL内容解析和界面进行了优化：

1. **后端优化**：
   - 增强了网页内容提取算法，能更准确地识别主要内容
   - 增加了请求超时时间（从3秒到10秒）
   - 添加了User-Agent请求头，更好地兼容各种网站
   - 内容长度限制可配置，并提供智能压缩选项
   - 优化了内容提取逻辑，能更好地处理各种页面结构
   - **新增HTML文件处理功能**：支持直接解析上传的HTML文件

2. **前端优化**：
   - 全新UI设计，柔和配色和层次感
   - 增加了内容长度设置选项，优化滑块显示
   - 添加了URL预览功能
   - 增加了内容字数统计
   - 增加了一键清空功能
   - 优化了文本显示区域
   - **新增输入模式切换**：支持URL和HTML文件两种模式
   - 支持HTML文件拖放上传

## 项目结构

```
make-card/
├── frontend/            # 前端项目
│   ├── src/             # 源代码
│   │   ├── App.vue      # 主组件（包含全部UI和逻辑）
│   │   └── main.js      # 入口文件
│   └── package.json     # 依赖配置
├── backend/             # 后端项目
│   ├── main.py          # FastAPI应用（内容提取和处理）
│   ├── start.py         # 启动脚本
│   └── requirements.txt # 依赖配置
└── README.md            # 项目说明
``` 