# 卡片制作小工具

一个简单高效的内容卡片生成工具，可从网页URL、HTML文件或直接输入文本中提取内容，并按照指定的提示词格式化输出。

## 功能特点

- **三种输入模式**：
  - 网址URL输入
  - HTML文件上传
  - 文本直接输入
- **预设提示词库**：内置多种常用提示词模板，点击即可使用
- **智能内容提取**：自动从网页或HTML文件中提取有价值的主要内容
- **无内容限制**：不限制内容长度，保留原始信息完整性
- **紧凑界面设计**：优化布局，无需滚动即可使用全部功能
- **下拉模式选择**：炫酷的动画效果，便捷切换输入模式
- **一键复制结果**：快速复制生成的内容用于其他场景

## 技术架构

### 前端
- Vue 3
- Element Plus (包含图标库)
- Axios

### 后端
- FastAPI
- httpx
- BeautifulSoup4
- Python-multipart (用于文件上传)

## 运行指南

### 前端启动

```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 运行开发服务器
npm run dev
```

### 后端启动

```bash
# 进入后端目录
cd backend

# 安装依赖
pip install -r requirements.txt

# 运行服务器
python start.py
```

## 使用方法

1. **选择输入方式**：点击右上角的下拉菜单选择输入模式
   - **网址模式**：输入以http://或https://开头的网址
   - **HTML模式**：上传本地HTML文件
   - **文本模式**：直接输入需要处理的文本内容

2. **添加提示词**：
   - 点击"添加提示词"或"编辑提示词"按钮
   - 可以选择预设提示词或输入自定义提示词
   - 点击预设提示词列表中的项目可以直接使用

3. **生成内容**：
   - 点击"生成卡片"按钮处理内容
   - 右侧将显示处理后的结果

4. **管理结果**：
   - 使用"复制内容"按钮将结果复制到剪贴板
   - 使用"清空"按钮重置所有输入和输出

5. **其他功能**：
   - 网址模式下可以使用预览按钮查看原始URL内容
   - 右上角显示当前输出内容的字符数

## 开发指南

### 添加预设提示词

1. 打开 `backend/prompts.py` 文件
2. 在 `PRESET_PROMPTS` 列表中添加新的提示词字符串
3. 保存文件并重启后端服务

```python
# 示例：添加新的预设提示词
PRESET_PROMPTS = [
    "总结以下内容的要点",
    "基于以下内容提出三个问题",
    # 添加新的提示词
    "将内容整理成一份报告提纲",
]
```

### 项目结构

```
make-card/
├── frontend/              # 前端Vue项目
│   ├── public/            # 静态资源
│   ├── src/               # 源代码
│   │   ├── App.vue        # 主应用组件
│   │   └── main.js        # 入口文件
│   ├── package.json       # 依赖配置
│   └── vite.config.js     # Vite配置
│
├── backend/               # 后端FastAPI项目
│   ├── main.py            # API主程序
│   ├── prompts.py         # 预设提示词配置
│   ├── start.py           # 启动脚本
│   └── requirements.txt   # 依赖列表
│
└── README.md              # 项目说明文档
```

## 最新更新

1. **文本直接输入功能**：
   - 新增"文本"输入模式，可直接输入文本内容而无需URL或HTML文件
   - 实现了对应的后端API端点处理文本输入

2. **输入模式选择优化**：
   - 改进输入模式选择器，从标签式改为下拉菜单
   - 添加平滑的动画效果和交互反馈

3. **预设提示词系统**：
   - 后端新增prompts.py单独管理预设提示词
   - 前端弹窗中增加预设提示词列表
   - 实现一键使用预设提示词功能

4. **去除内容长度限制**：
   - 移除了内容长度的限制，保留完整内容

5. **界面优化**：
   - 更紧凑的整体布局
   - 提示词输入改为弹窗形式
   - 优化模式切换体验

## 注意事项

- 后端默认地址：`http://localhost:8000`
- 前端开发服务器地址：`http://localhost:5173`
- 网络连接：确保前后端服务器之间可以相互访问
- 仅支持HTML格式文件上传